<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!--
@license
Copyright (c) 2016 Hemant Jadon. All rights reserved.
-->

<!-- Polymer and PolymerElements -->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-localstorage/iron-localstorage.html">

<!-- Custom Web Components -->


<!-- user-data -->
<dom-module id="user-data">
	<template>    

		<iron-localstorage 
			name="user"
			value="{{user}}"
		></iron-localstorage>

	</template>
	<script>
	(function() {
		'use strict';

		Polymer({
			is: 'user-data',

			properties: {
				user : {
					type : Object,
					notify : true,
					value : null
				}
			},

			_initializeAnonymousUser : function (){
				 let user = {
					 username : null,
					 email : null,
					 token : null,
					 is_anonymous : true,
					 is_authenticated : false,
					 is_admin : false,
				 }
				 this.set(`user`,user);
			},

			ready : function(){
				this._initializeAnonymousUser();
			},

		});
	})();
	</script>
</dom-module>
<!-- / user-data

* `user-data` component provides the one-off source for user data.

* As we are dealing with a rest server it is important to store
`JWT` coming in from user and passing these tokens in application.

-->