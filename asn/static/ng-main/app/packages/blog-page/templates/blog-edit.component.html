<div *ngIf="user.is_staff">
	<div *ngIf="blog">
		<div *ngIf="blog.id">
			<div class="header" [ngStyle]="{'background-color': blog.header_color_hash}">
				<div class="background-selector" (click)="_colorPalette.onClick($event.target)" 
												(mouseleave)="_colorPalette.onMouseLeave($event.target)">
					<div class="dropdown">
						<ul class="color-list">
							<li *ngFor="let color of _colorPalette.colors" 
								[ngStyle]="{'background-color': color.hash_value}" (click)="changeHeaderColor($event,color)">
									<div class="tick" *ngIf="color.selected">
										<i class="fa fa-check"></i>
									</div>
							</li>
						</ul>
					</div>
				</div>

				<div class="publish-switch">
					<div class="switch">
						<label>
							Published : 
							<input type="checkbox" [(ngModel)]="blog.is_published" (click)="publishChange()">
							<span class="lever"></span>
						</label>
					</div>
				</div>

				<div class="wrapper">
					<div class="category">
						<h6 contenteditable="true" [innerText]="blog.category"
							(input)="blog.category = $event.target.innerText" (blur)="saveBlog()">
						</h6>
					</div>
					<div class="symbol avatar image">
						<div class="image">
							<div *ngIf="blog.image">
								<!-- Handle Image of blog -->
							</div>
							<div *ngIf="!blog.image">
								<div class="default-image">
								</div>
							</div>
						</div>
					</div>
					<div class="heading">
						<h1 class="title" contenteditable="true" [innerHTML]="blog.title" 
											(input)="blog.title = $event.target.innerHTML" (blur)="saveBlog()">
						</h1>
						<p class="description" contenteditable="true" [innerHTML]="blog.description" 
												(input)="blog.description = $event.target.innerHTML" (blur)="saveBlog()">
						</p>
					</div>
					<div class="date">
						<h6>{{ momentify(blog.timestamp) }}</h6>
					</div>
				</div>
			</div>

			<div class="editor">
				<div class="wrapper">
					<tiny-mce [blog]="blog" (typeEvent)="onBlogType()"></tiny-mce>
				</div>
			</div>
			<div class="save btn-floating btn-large waves-effect waves-light red" (click)="saveBlog()">
				<div *ngIf="!is_updating">
					<i class="fa fa-floppy-o"></i>
				</div>
				<div *ngIf="is_updating">
					<span class="loader"><span class="loader-inner"></span></span>
				</div>
			</div>
		</div>
		<div *ngIf="!blog.id">
			HTTP 404 : NOT FOUND
		</div>
	</div>
	<div *ngIf="!blog">
		Something Went Wrong !!
	</div>
</div>

<!-- If is not staff member -->
<div *ngIf="!user.is_staff">
	<div *ngIf="!user.is_authenticated">
		HTTP 401 : Unauthorized
	</div>
	<div *ngIf="user.is_authenticated">
		HTTP 403 : Forbidden
	</div>
</div>